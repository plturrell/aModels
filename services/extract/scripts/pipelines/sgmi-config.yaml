# SGMI project configuration (example)
# This demonstrates backward compatibility with SGMI pipeline

project:
  id: "sgmi"
  name: "SAP Global Master Index"
  system_id: "sgmi"
  data_root: "${SGMI_DATA_ROOT:-/home/aModels/services/extract/data}"

sources:
  files:
    - "${SGMI_DATA_ROOT}/training/sgmi/json_with_changes.json"
    - "${SGMI_DATA_ROOT}/training/sgmi/hive-ddl/sgmisit_all_tables_statement.hql"
    - "${SGMI_DATA_ROOT}/training/sgmi/hive-ddl/sgmisitetl_all_tables_statement.hql"
    - "${SGMI_DATA_ROOT}/training/sgmi/hive-ddl/sgmisitstg_all_tables_statement.hql"
    - "${SGMI_DATA_ROOT}/training/sgmi/hive-ddl/sgmisit_view.hql"
    - "${SGMI_DATA_ROOT}/training/sgmi/SGMI-controlm/catalyst migration prod 640.xml"

parsers:
  - type: "ddl"
    enabled: true
  - type: "sql"
    enabled: true
  - type: "json"
    enabled: true

ai:
  enabled: true
  model: "cwm"
  localai_url: "http://localai:8080"

# Gitea storage configuration for Gitea-first extraction process
gitea_storage:
  enabled: true
  gitea_url: "${GITEA_URL:-}"
  gitea_token: "${GITEA_TOKEN:-}"
  owner: "extract-service"
  repo_name: "sgmi-extracted-code"
  branch: "main"
  base_path: ""
  auto_create: true
  description: "SGMI extracted code and documents"

# Verification configuration
verification:
  knowledge_graph:
    query_template: "MATCH (n) WHERE n.project_id = '{project_id}' OR n.system_id = '{system_id}' OR n.id CONTAINS '{project_id}' RETURN count(n) as node_count"
  catalog:
    source_filter: "Extract Service"

