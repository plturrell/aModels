FROM golang:1.24-alpine

WORKDIR /workspace

# Copy go mod files first for better layer caching
COPY go.mod go.sum ./
RUN go mod download

# Copy source and build
COPY . .

# Default command: run prompt tests
CMD ["go", "test", "./prompts/...", "-v"]
